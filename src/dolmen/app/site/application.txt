*****************
Application Tests
*****************

:Test-Layer: functional

Create a Dolmen Application

    >>> from dolmen.app.site import Dolmen
    >>> root = getRootFolder()
    >>> root['rocks'] = Dolmen()
    >>> root.get('rocks').__class__.__name__
    'Dolmen'

Check its variables

    >>> rocks = root.get('rocks')
    >>> rocks.title
    u'My Dolmen Site'
    >>> rocks.layout
    u'base_view'

Make sure the local utilities where registered

    >>> from zope.app.security.interfaces import IAuthentication
    >>> from dolmen.relations import ICatalog
    >>> sm = rocks.getSiteManager()
    >>> sm.getUtility(IAuthentication).__class__.__name__
    'PluggableAuthentication'
    >>> sm.getUtility(ICatalog).__class__.__name__
    'RelationCatalog'
